- name: Run the rpm command
      command: rpm -qa
      register: rpm_output
 
    - name: Filter the output for eCMTS to get the eCMTS package
      set_fact:
        ecmts_packages: "{{ rpm_output.stdout_lines | select('search', 'eCMTS') | list | join('\n')}}"


how to make this two tasks  as single task?
then use print task
- name: Print the existing eCMTS package on the server
      debug:
       msg: >-
        {% if ecmts_packages == "" %}
        No eCMTS packages are installed.
        {% else %}
        eCMTS version(s) installed: {{ ecmts_packages }}
        {% endif %}
